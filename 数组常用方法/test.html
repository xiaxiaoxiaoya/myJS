<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>数组方法</title>
</head>

<body>


</body>

</html>
<script type='text/javascript'>
	/*  
		foreach()：里边进行读取和更新修改操作(R/读U/修改)，但修改操作不便于影响原数组。
		map()：在map方法中进行更新修改操作最方便 。
		splice()：在这个方法中进行CUD(f增/修/删)操作。(左闭 右开)
    */
    /*  
    一、JS创建数组有两种方式
         1、使用Array构造函数
         2、使用数组字面量表示法 
    */

    //1、使用Array构造函数
    var arr1 = new Array();//创建一个空数组
    //    console.log(arr1)
    var arr2 = new Array(20);//创建一个包含20项的空数组
    //    console.log(arr2)
    var arr3 = new Array('xiaxia', 'haha', 'xixi');//创建一个包含三个字符串的数组
    //    console.log(arr3)

    //2、使用数组字面量表示法
    var arr4 = [];//创建一个空数组
    var arr5 = [20];//创建一个包含1项的数组
    var arr6 = ['xiaxia', 'haha', 'xixi']//创建一个包含三个字符串的数组


    /*
    二、数组方法：数组方法有数组原型方法，也有从object对象继承来的方法，这里我们只介绍数组的原型方法，数组原型方法主要有以下这些：
    join()
    push()/pop()
    shift()/unshift()
    sort()
    reverse()
    conact()
    slice()
    indexOf()/lastIndexOf() (ES5新增加)
    forEach() (ES5新增加)
    map() (ES5新增加)
    filter()  (ES5新增加)
    every((ES5新增加)
    some()(ES5新增加)
    reduce()/reduceRight  (ES5新增加)
     */

    /*
    1、join()方法：
        功能：就是将数组转换成字符串
        作用：join(separator):separator分隔器，将数组的元素按照指定的分隔器连接符连接成一个字符串。和字符串的split()方法是逆运算，将字符串转成数组。
        参数：可有可无，如果没有就是默认指定逗号作为连接符；如果指定空串，那么元素之前不会有任何字符连接。
        返回值：返回连接好的字符串
        不会影响原数组
     */
    var arr = [2, 3, 4, 5];
    var result = arr.join();//1,2,3,4
    var result = arr.join('');//1234
    var result = arr.join('&');//1&2&3&4
    //  console.log(result);

    //例：通过join()方法可以实现重复字符串
    function repeatString(str, n) {
        var result1 = new Array(n + 1).join(str)
        return result1;
    }
    // console.log(repeatString('xia',3))//相当于以xia为连接符

    var str = 'fdkslfjsld';
    // console.log(str.split(''));//字符串方法：split() ["f", "d", "k", "s", "l", "f", "j", "s", "l", "d"]


    /* 
    2、push()和pop()  —— 在数组尾部干活
    push()：
    功能：在数组的末尾添加元素；
    参数：可以是一个，也可以是多个，或者一个和或多个数组；
    返回值：添加完元素之后，数组的新长度；
    会影响原数组。

    pop():
    功能：在数组的末尾删除元素；
    参数：无；
    返回值：返回册删除的那个元素；
     */
    var arr = ['lala', 'xixi', 'haha']
    //  console.log(arr.push(12,34,[5,5,5,5]),arr)//6
    //  console.log(arr.pop());//[5,5,5,5] 返回删除的那个元素

    /* 
    3、shift()和unshift()  —— 在数组头部干活
    unshift():
    功能：在数组的头部即第一个添加元素
    参数：可以是一个也可以是多个，或者一个和或多个数组；
    返回值：添加完元素之后的数组的新长度；
    会影响原数组。

    shift():
    功能：在数组头部删除一个元素
    参数：无
    返回值：返回被删除的那个元素
    
     */
    var arr = ['wuwu', 'xixi', 'haha'];
    // console.log(arr.unshift('heihei','hehe'))//5
    // console.log(arr.shift(),arr)//heihei , ["hehe", "wuwu", "xixi", "haha"]


    /* 
    4、splice():很强大的数组方法，有很多种用法，可以实现删除、插入、替换。
       4-1：删除
            功能：删除对应的元素；
            参数：至少2个  第一个代表从哪儿开始删除 ，第二个代表删除几个；
            返回值：返回删除的元素组成的新数组；
            会影响原数组。

       4-2：修改/替换
            功能：用于修改替换，先把要修改的位置的值删除，删除之后再在这个位置进行添加，可以添加一个或多个；
            参数：至少3个，第一个代表哪儿开始删除，第二个代表删除几个，第三个开始往后都是新添加的元素；
            返回值：返回删除的元素组成的新数组；
            会影响原数组。

       4-3：插入
            功能：用于修改替换，先把要修改的位置的值删除，删除之后再在这个位置进行添加，可以添加一个或多个；
            参数：至少3个，第一个代表哪儿开始删除，第二个代表删除几个，第三个开始往后都是新添加的元素；
            返回值：空数组；
            会影响原数组。
     */
    var arr = [1, 2, 3, 4, 5, 6];
    //4-1:删除
    //console.log(arr.splice(2,1),arr);//[3],[1,2,4,5,6]——从第2个开始，删除1个
    //4-2:修改替换
    //  console.log(arr.splice(2,1,{name:'xiaxiaoxi',age:18},{name:'小李了',age:12}),arr);//[3] , [1, 2, {…},{…}, 4, 5, 6]
    //4-2:插入
    //  console.log(arr.splice(2,0,[88888,66666]),arr)//[] ，[1, 2, Array(2), 3, 4, 5, 6]

    //总结1：修改和替换其实区别就在于传的第二个参数，如果第二个参数为1，刚代表是修改替换；如果是0则代表在其后添加插入。
    //总结2：splice()方法始终都会返回一个数组，该数组中包含从原始数组中删除的项组成的新数组，如果没有删除任何项，则返回一个空数组。


    /* 
    5、reverse():
    功能：翻转数组,反转数组项的顺序
    参数：无
    返回值：返回翻转后的原数组
    会影响原数组
     */
    var arr = [1, 2, 3, 4, 5, 6];
    // console.log(arr.reverse());//[6, 5, 4, 3, 2, 1]


    /*
    6、concat():
    功能：拼接/复制数组，如果没有参数其实就是复制一个数组；
    参数：可有可无，如果没有参数就是复制一个数组；有参数，会把参数折成基本数据拼接到数组后面；
    返回值 ：返回拼接好的数组，而且是一个新数组，和原数组不是同一个。
     */
    var arr = [1, 2, 3, 4, 5, 6];
    //  console.log(arr.concat('12',[3,3,3,],{name:'haha'}));//[1, 2, 3, 4, 5, 6, "12", 3, 3, 3, {…}]


    /* 
    7、slice():
    功能：和字符串的slice()方法类似，从原数组中截取子数组；
    参数：1个或2个参数，即返回项的起始和结束位置。在只有一个参数的情况下，slice()方法返回从该参数指定位置开始到当前数组末尾的所有项；
    如果有两个参数，该方法返回起始和结束位置之间的项，不包含结束位置的项。
    返回值：返回截取好的新数组；
    不会影响原数组
     */
    var arr = [1, 2, 3, 4, 5, 6];
    //  console.log(arr.slice(2))//[3, 4, 5, 6]
    //  console.log(arr.slice(2,-1))//[3, 4]
    // var str = '12345'
    // console.log(str.slice(2,4))


    /* 
    8、sort()：
    功能：对数组进行排序；升序排序；会调用每个数组项的toString转型方法，然后比较得到的字符串，以确定如何排序。
    即使数组中每一项都是数值，sort()方法比较的也是字符串，因此会出现以下情况。
    参数：无参数就是按照Unicode码进行比较进行排序；
    返回值：返回排好的原数组
    会影响原数组
     */
    var arr = [4, 2, 5, 1, 6, 3];
    var arr1 = ['b', 'd', 'a', 'c'];
    var arr2 = [13, 24, 5, 3];
    //  console.log(arr.sort())//[1, 2, 3, 4, 5, 6]
    //  console.log(arr1.sort())//["a", "b", "c", "d"]  按照Unicode码进行比较
    //  console.log(arr2.sort())//[13, 24, 3, 5]  明显排序是不对的，比较了转成字符串的第一位
    /* 
    为了解决数值型的数组，sort()方法可以接收一个比较函数作为参数，以便我们指定哪个值位于哪个值的前面。比较函数接收两个参数，如果第一个
    参数应该位于第二个之前，则返回一个正数，如果第一个参数应该位于第二个之后，则返回一个负数，如果两个参数相等则返回0。或者返回一个a-b的值
     */
    function compare(val1, val2) {
        if (val1 > val2) {
            return 1;
        } else if (val1 < val2) {
            return -1;
        } else {
            return 0;
        }
    }
    var arr = [13, 24, 5, 3];
    //   console.log(arr.sort(compare)) //[3, 5, 13, 24]
    //或者可以更简单：
    var results = arr.sort((a, b) => {
        //输入函数体
        // return a-b;//升序_[3, 5, 13, 24]
        return b - a;//降序_[24, 13, 5, 3]
    })
    //   console.log(results)


    /* 
    9、toString():
    功能：数组自己的toString()方法，会把数组转换成字符串，所有数组转化成字符串，都是去掉两边中括号，中间的内容直接变为字符串;
    参数：无；
    返回值：转化好的字符串；
    不会影响新数组
     */
    var arr = [13, 24, 5, 3];
    // console.log(arr.toString())//'13,24,5,3'
    // console.log(arr.toString().split(''));//["1", "3", ",", "2", "4", ",", "5", ",", "3"]

    /* 



    10、indexOf()和lastIndexOf()
    indexOf():
    功能：从前向后查找某个指定数组项的索引值，若有重复的，则返回第一个查到的索引值，或不存在，则返回-1；
    参数：两个参数，第一个参数代表要查找的项，第二个(可选)代表查找起点位置的索引，其中，从数组的起始位置0开始向后查找；
    返回值：indexOf()和lastIndexOf()返回要查找的项在数组中的位置，如果没有找到，返回-1；
           在比较第一个参数和数组中的每一项时，会使用全等操作符。

    lastIndexOf():
    功能：与indexOf()一样，不同的是从后往前查看。
    参数：
     */
    var arr = [1, 2, 3, 1, 4, 5, 6];
    // console.log(arr.indexOf(1))//0
    // console.log(arr.lastIndexOf(1))//3


    /* 
    11、forEach():
    功能：对数组进行遍历循环，对数组中的每一项运行给定函数。这个方法没有返回值。参数都是function类型，默认有传参，参数分别为：遍历的数组内容(即每一项Item)和对应数组的索引值(index)
    参数：3个，value(当前数组每一项),index(索引值),array(原数组)
     */
    var arr = ['ahah', 'xixi', 'heihei', 'hehe', 'lala'];
    arr.forEach((item, index) => {
        //输入函数体
        // console.log(index, item + '-me')
    });
    var a11 = arr.forEach((item, index) => {
        //输入函数体
        // console.log(index, item + '-me')
        item = item+'--'
        return item
    });
//    console.log(a11)//因为forEach()方法是没有返回值的，所以是undefined


    /* 
    12、map(callback):
    功能：指"映射"，映射即遍历数组，返回每次函数调用的结果组成的新数组。
    参数：3个，value(当前数组每一项),index(索引值),array(原数组)
     */

    var arr = ['ahah', 'xixi', 'heihei', 'hehe', 'lala'];
    arr.map((item, index) => {
        //输入函数体
        // console.log(index, item)
    });
    var a22=arr.map((item, index) => {
        //输入函数体
       var item = item+"1";
       return item
        
    });
    // console.log(a22)//["ahah1", "xixi1", "heihei1", "hehe1", "lala1"]
    //总结：forEach()和map()方法区别：forEach()没有return,而map()有return



    /* 
    13、filter():
    功能：过滤数组，返回一个满足要求的数组
    参数：2个，value:当前索引值即每一项；index：索引
    返回值：返回一个满足要求的数组
     */

     let arrs=[1,2,4,5,6];
     let newArr = arrs.filter((value,index)=>{
       //输入函数体
        return  value>2
     })
    //  console.log(newArr);//[4, 5, 6]


    /* 
    13-1：find():
    功能：找到第一个符合条件的数组成员
    参数：3个，value:每一项，index：索引，array:原数组
    返回值：返回满足条件的数组项
     */
     let arrFind = [4,3,5,6,2,6];
     let newArrFind = arrFind.find((value)=>{
       //输入函数体
       return value > 3;
     })
     console.log(newArrFind)//4

     /* 
    13-2：findIndex():
    功能：找到第一个符合条件的数组成员的索引值
    参数：3个，value:每一项，index：索引，array:原数组
    返回值：返回满足条件的数组
     */
     



     /* 
     14、every():
     功能：依据判断条件，数组的元素是否全满足，若满足则返回true
     参数：2个，value:当前索引值即每一项，index：索引
     返回值 
      */
      let arrEvery=[1,2,4,5,6];
      var newArrEvery = arrEvery.every((value,index)=>{
        //输入函数体
        return value > 5;
        console.log(value)
      }) 
    //   console.log(newArrEvery)//false 因为没有全部满足



</script>